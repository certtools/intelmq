{#SPDX-FileCopyrightText: 2020 IntelMQ Team <intelmq-team@cert.at>#}
{#SPDX-License-Identifier: AGPL-3.0-or-later#}

<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>IntelMQ - {% block title %}{% endblock %}</title>

    <!-- Bootstrap Core CSS -->
    <link href="{{ url_for('static', path='plugins/bootstrap/bootstrap.min.css') }}" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="{{ url_for('static', path='plugins/metisMenu/metisMenu.min.css') }}" rel="stylesheet">

    <!-- Vis.JS Plugin JavaScript (configs.html)-->
    <link href="{{ url_for('static', path='plugins/vis.js/vis.css') }}" rel="stylesheet" type="text/css">

    <!-- DataTables CSS (other files than configs.html) -->
    <link href="{{ url_for('static', path='plugins/dataTables/dataTables.bootstrap.css') }}" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="{{ url_for('static', path='plugins/font-awesome-4.1.0/css/font-awesome.min.css') }}" rel="stylesheet"
          type="text/css">

    <!-- Custom CSS -->
    <link href="{{ url_for('static', path='css/sb-admin-2.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='css/style.css') }}" rel="stylesheet">

    <link rel="icon" type="image/png" href="{{ url_for('static', path='images/logo2.png') }}">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
        var API = "{{ request.url_for('api_base_url') }}"
    </script>

</head>
<body>
<div id="wrapper">
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">
                <img src="{{ url_for('static', path='/images/logo2.png') }}" height="24px" style="margin-right:10px; display:inline"/>
                <img src="{{ url_for('static', path='/images/logo_no_margin_6.png') }}" height="20px" style="display:inline"/>
            </a>
        </div>
        <!-- /.navbar-header -->

        <ul class="nav navbar-top-links navbar-left">

            {% for page in pages %}
                <li class="{{ 'active' if page.name in request.url.path else '' }}">
                    <a href="{{ page.url }}">
                        <span class="top-menu-text"><img src="{{ page.icon_url }}" width="24px" height="24px">&nbsp;{{ page.title }}</span>
                    </a>
                </li>
            {% endfor %}

        </ul>

        {% if config.session_store %}
        <div id="login-status">Not logged in</div>
        <div>
            <input type="button" value="Login" class="btn btn-primary" data-toggle="modal"
                   data-target="#modalLoginForm" id="signUp" style="display: block;">
            <input type="button" value="Logout" id="logOut"
                   class="btn btn-primary" style="display: none;">
        </div>
        {% endif %}

        <!-- /.navbar-top-links -->
        <div title="Click to expand, then escape to minimize again." id='log-window'>
            <i role="close" class="fa fa-times"></i>
            <div class="contents"></div>
        </div>
    </nav>

    <div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h4 class="modal-title w-100 font-weight-bold">Sign in</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form method="POST" id="loginForm">
                    <div class="modal-body mx-3">
                        <!-- Field to show if the username or password is wrong -->
                        <p class="text-danger" id="loginErrorField"> </p>
                        <div class="md-form mb-2">
                            <input type="text" id="username" name="username"
                                   class="form-control">
                            <label data-error="wrong" data-success="right" for="username">
                                Username
                            </label>
                        </div>
                        <div class="md-form mb-2">
                            <input type="password" id="password" name="password"
                                   class="form-control">
                            <label data-error="wrong" data-success="right" for="password">
                                Password
                            </label>
                        </div>

                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <button class="btn btn-primary">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>


    <div id="content">
    {% block content %}
    {% endblock %}
    </div>

    <script src="{{ request.url_for('static', path='plugins/jquery-3.5.1.min.js') }}"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="{{ request.url_for('static', path='plugins/bootstrap/bootstrap.min.js') }}"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="{{ request.url_for('static', path='plugins/metisMenu/metisMenu.js') }}"></script>

    <script src="{{ request.url_for('static', path='js/static.js') }}"></script>
    <script src="{{ request.url_for('static', path='js/sb-admin-2.js') }}"></script>
    <script src="{{ request.url_for('static', path='plugins/dataTables/jquery.dataTables.js') }}"></script>
    <script src="{{ request.url_for('static', path='plugins/dataTables/dataTables.bootstrap.js') }}"></script>

    <!-- Additional Javascript per Page -->
    {% block javascript %}
    {% endblock %}

    <div id="common-templates">
        <div class="control-buttons" data-bot-id="" data-botnet="">
            <button type="submit" class="btn btn-default" title="Start" data-status-definition="starting" data-url="start"><span class="glyphicon glyphicon-play"></span></button>
            <button type="submit" class="btn btn-default" title="Stop" data-status-definition="stopping" data-url="stop"><span class="glyphicon glyphicon-stop"></span></button>
            <button type="submit" class="btn btn-default" title="Reload" data-status-definition="reloading" data-url="reload"><span class="glyphicon glyphicon-repeat"></span></button>
            <button type="submit" class="btn btn-default" title="Restart" data-status-definition="restarting" data-url="restart"><span class="glyphicon glyphicon-refresh"></span></button>
            <button type="submit" class="btn btn-default" title="Status" data-url="status"><span class="glyphicon glyphicon-arrow-down"></span></button>
        </div>
    </div>

</body>
</html>
